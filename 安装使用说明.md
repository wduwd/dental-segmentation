# 高校宿舍报修管理系统 - 安装使用说明

## 项目概述
本项目是一个基于Vue 3 + Flask技术栈的前后端分离高校宿舍报修管理系统，无需Node.js环境，使用CDN引入前端依赖，方便快速部署和演示。

## 技术栈
- **前端**：Vue.js 3 + Vue Router + Pinia + Element Plus + Axios (CDN引入)
- **后端**：Python Flask + SQLAlchemy + Flask-JWT-Extended
- **数据库**：SQLite (开发环境)

## 系统功能

### 角色权限
- **学生**：提交报修、查看进度、评价
- **维修人员**：接单/派单、处理报修、反馈结果
- **系统管理员**：全局管理、数据统计、基础信息维护

### 核心功能
- 登录/注册
- 在线报修（支持图片上传）
- 报修进度跟踪
- 维修任务管理
- 数据可视化统计
- 公告管理

## 安装步骤

### 1. 安装Python环境

#### Windows系统
1. 访问 [Python官网](https://www.python.org/downloads/) 下载最新版Python
2. 运行安装程序，勾选「Add Python to PATH」选项
3. 安装完成后，在命令行输入 `python --version` 验证安装成功

#### Linux系统
1. 使用包管理器安装Python 3.7+
   ```bash
   sudo apt-get update
   sudo apt-get install python3 python3-pip
   ```
2. 验证安装：`python3 --version`

#### macOS系统
1. 使用Homebrew安装：
   ```bash
   brew install python3
   ```
2. 验证安装：`python3 --version`

### 2. 安装项目依赖

1. 进入项目的 `backend` 目录
2. 执行以下命令安装Python依赖：
   ```bash
   # Windows
   python -m pip install -r requirements.txt
   
   # Linux/macOS
   python3 -m pip install -r requirements.txt
   ```

### 3. 启动后端服务

#### Windows系统
1. 进入 `backend` 目录
2. 双击 `start.bat` 文件
3. 或在命令行执行：
   ```bash
   python app.py
   ```

#### Linux/macOS系统
1. 进入 `backend` 目录
2. 执行命令：
   ```bash
   python3 app.py
   ```

### 4. 启动前端应用

直接使用浏览器打开 `frontend/index.html` 文件即可

## 使用说明

### 初始账号
系统启动后会自动创建默认管理员账号：
- **账号**：admin
- **密码**：admin123

### 登录系统
1. 打开浏览器访问 `frontend/index.html`
2. 输入账号密码登录
3. 根据角色使用相应功能

### 主要功能使用

#### 学生端
1. **在线报修**：点击左侧菜单「报修功能」→「在线报修」
2. 填写报修信息：
   - 选择故障类型
   - 填写宿舍信息
   - 详细描述故障
   - 选择预约时间
   - 上传故障图片（可选）
3. 提交报修单
4. 在「我的报修」中查看进度

#### 维修人员端
1. 登录后在「维修管理」→「任务列表」查看派单
2. 点击「开始维修」更新状态
3. 维修完成后点击「维修完成」
4. 在「历史记录」中查看已完成的任务

#### 管理员端
1. 登录后在「系统管理」→「报修管理」审核和派单
2. 在「用户管理」中管理学生和维修人员信息
3. 在「数据统计」中查看可视化图表
4. 在「公告管理」中发布系统公告

## 注意事项

1. **网络连接**：前端使用CDN引入依赖，需要网络连接
2. **图片上传**：开发环境下图片保存在本地，生产环境建议使用云存储
3. **数据库**：系统默认使用SQLite，无需额外配置
4. **端口占用**：如果5000端口被占用，可以修改 `app.py` 中的端口配置

## 常见问题

### Q: 后端启动失败，提示缺少依赖
A: 请确保已正确安装所有依赖，执行 `pip install -r requirements.txt`

### Q: 前端无法连接后端
A: 请检查后端服务是否正常启动，以及浏览器地址栏是否有跨域限制

### Q: 数据库连接错误
A: 检查 `app.py` 中的数据库配置是否正确

### Q: 无法上传图片
A: 检查 `uploads` 目录是否存在，确保有写入权限

## 开发扩展

### 修改数据库配置
如果需要使用MySQL数据库，修改 `backend/app.py` 中的配置：
```python
app.config['SQLALCHEMY_DATABASE_URI'] = 'mysql+pymysql://username:password@localhost/dorm_repair'
```

### 添加新功能
1. **前端**：在 `index.html` 中添加新组件
2. **后端**：在 `app.py` 中添加新路由和模型
3. **数据库**：使用 `db.create_all()` 更新数据库结构

## 项目结构
```
├── frontend/          # 前端代码
│   └── index.html     # 主页面，包含所有前端代码
├── backend/           # 后端代码
│   ├── app.py         # Flask应用主文件
│   ├── requirements.txt  # Python依赖
│   ├── start.bat      # Windows启动脚本
│   ├── uploads/       # 图片上传目录
│   └── dorm_repair.db # SQLite数据库文件（自动生成）
├── README.md          # 项目说明文档
└── 安装使用说明.md    # 详细安装使用指南
```

## 联系方式
如有问题或建议，请联系项目负责人。

---

**祝您使用愉快！**